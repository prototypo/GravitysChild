%%%%%%%%%%%%%%%%%%%%%%%% HAUB.tex %%%%%%%%%%%%%%%%%%%%%%%
%
% Root file for: Gravity's Child (D. Hyland-Wood)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\documentclass[10pt]{book} % 10 point font
%\documentclass[11pt]{book} % 11 point font
\documentclass[12pt]{book} % 12 point font
\usepackage[a4paper, top=3cm, bottom=3cm]{geometry}
\usepackage[utf8]{inputenc}
%\usepackage[latin1]{inputenc}
\usepackage{setspace}
\usepackage{fancyhdr}
\usepackage{tocloft}

% Extension Packages
%-------------------------------------------------------------------------------
\usepackage{mathptmx}	% selects Times Roman as basic font
\usepackage{helvet}		% selects Helvetica as sans-serif font
\usepackage{courier}	% selects Courier as typewriter font
%\usepackage{type1cm}	% activate if the above 3 fonts are 
					% not available on your system
					
% From Stack Exchange for ToDo items
% --------------------------------------------------
\usepackage{xargs} 
\usepackage[pdftex,dvipsnames]{xcolor}  % Coloured text etc.
% 
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\feedback}[2][1=]{\todo[linecolor=Goldenrod,backgroundcolor=Goldenrod!25,bordercolor=Goldenrod,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}
					
\usepackage{titling}
\newcommand{\subtitle}[1]{%
  \posttitle{%
    \par\end{center}
    \begin{center}\large#1\end{center}
    \vskip0.5em}%
}

\newenvironment{dedication}
    {\vspace{6ex}\begin{quotation}\begin{center}\begin{em}}
    {\par\end{em}\end{center}\end{quotation}}
    
\usepackage{makeidx}	% allows index generation
\usepackage{graphicx}	% standard LaTeX graphics tool
					% when including figure files
\usepackage{multicol}	% used for the two-column index
\usepackage[bottom]{footmisc}% places footnotes at page bottom

%\usepackage{url}		% Avoid problems with special characters in URLs
\PassOptionsToPackage{hyphens}{url}
\usepackage{hyperref}
\usepackage{breakurl}	% Apparently cannot be used when processing with pdflatex.

\usepackage{soul}		% Allow line breaks in underlined text.

\usepackage{listings}
\lstset{basicstyle=\small, columns=fixed}

\usepackage{amsmath}

% Fix hyphenation
\tolerance=700
\setlength{\emergencystretch}{3em}

% For layout of poetry
\usepackage{lettrine}
\usepackage{parselines}
\usepackage{xcolor}
%\definecolorseries{verso}{rgb}{last}{blue!40!black}{magenta!40!black}
\definecolorseries{verso}{rgb}{last}{black}{black}
\resetcolorseries[30]{verso}
\newenvironment{verso}{\pagebreak[3]\begin{parse lines}[\parindent=1em\noindent]{\color{verso!!+}\hspace{\row\parindent}##1\newline\color{black}}}%
{\end{parse lines}}

%\usepackage{tocbibind}	% Allows the bibliography to appear in the TOC.

\makeindex			% used for the subject index
					% NB: Springer uses the style svind.ist with the makeindex program. 
					% TODO: Should I?

% Use a single bibliography style
%\usepackage[super]{natbib} % Makes citations superscript, which is nicer but conflicts with footnotes. TODO: Change somehow.
\bibliographystyle{plain}

% Custom
%-------------------------------------------------------------------------------
%\usepackage{cyrillic}
\usepackage[T1]{fontenc}   % Allows words with accented characters to be cut-and-pasted, and hyphenated.
\usepackage{enumitem}
\usepackage{phonetic}

% For title page
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\usepackage[export]{adjustbox}

% For Russian (Cyrillic) names in endnotes:
%\newcommand{\cyrrm}{\fontencoding{OT2}\selectfont\textcyrup} % cyrrm = "Roman", or really upright, normal font

\lstset{
      basicstyle = \scriptsize \ttfamily,%
      keywordstyle = [1]\bfseries\color{darkgreen},%
      stringstyle  = \ttfamily\color{darkred},%
      commentstyle = \itshape\color{darkblue},%
      showstringspaces = false,%
%     fancyvrb = true,%
      firstnumber = auto, stepnumber=1, numbersep=5pt,%
      numbers=left, numberstyle=\tiny \ttfamily,
      frame = shadowbox, frameround = ffff, rulesepcolor = \color{shadecolor},
      breaklines=true, breakatwhitespace=true,%
%      prebreak=\textellipsis,postbreak=\textellipsis,%
      emphstyle = \color{red}\underbar, emphstyle = {[2]\color{blue}\underbar},%
      extendedchars = true, inputencoding = utf8,%
%     backgroundcolor=\color{shadecolor},
      xleftmargin=5pt, xrightmargin=2pt,
      captionpos = b
}

\usepackage{eso-pic}
\newcommand\BackgroundPic{%
\put(0,0){%
\parbox[b][\paperheight]{\paperwidth}{%
\vfill
\centering
\includegraphics[width=\paperwidth,height=\paperheight,%
keepaspectratio]{cover/GravitysChild_front.jpg}%
\vfill
}}}
% End Custom
%-------------------------------------------------------------------------------

\begin{document}


% Graphical Cover
%-------------------------------------------------------------------------------
\AddToShipoutPicture*{\BackgroundPic}
\newpage
\thispagestyle{empty}
\mbox{}
\newpage

% Title Pages
%-------------------------------------------------------------------------------
\pagestyle{empty}

\begin{titlepage}

\vspace*{\fill}
\noindent
\textsc{Preview Edition, \today}

\vspace{5 mm}
\noindent
Gravity's Child by David P. Hyland-Wood

\vspace{5 mm}
\noindent
www.hyland-wood.org

\vspace{5 mm}
\noindent
Copyright \textcopyright { }2024 by David P. Hyland-Wood

\vspace{5 mm}
\noindent
Gravity's Child \copy 2024 by David Paul Hyland-Wood is licensed under CC BY-NC-ND 4.0. To view a copy of this license, visit https://creativecommons.org/licenses/by-nc-nd/4.0/

\vspace{5 mm}
\noindent
For additional permission requests, write to the publisher, using ``Attention: Permissions Coordinator,'' at books@hyland-wood.org.

\vspace{5 mm}
\noindent
This is a work of fiction. Names, characters, places, and incidents either are the products of the author's imagination or are used fictitiously. Any resemblance to actual persons, living or dead, businesses, companies, events, or locales is entirely coincidental.

\vspace{5 mm}
\noindent
\textbf{Ebook ISBN}: not yet registered.

\vspace{1 mm}
\noindent
\textbf{Library of Congress Cataloging in Publication Data}: not yet registered.

\end{titlepage}

\pagestyle{empty}

%\pagenumbering{}
% Set book title
%\title{\textbf{Gravity's Child}}
%\subtitle{TODO}
% Include Author name and Copyright holder name
%\author{David Hyland-Wood}
%\maketitle


\begin{titlepage}
\begin{center}

% Upper part of the page. The '~' is needed because \\
% only works if a paragraph has started.
\includegraphics[width=0.80\textwidth, frame]{cover/GravitysChild_front_top}~\\[1cm]

% Title
\HRule \\[0.4cm]
{ \Huge \bfseries Gravity's Child \\[0.4cm] }
\HRule \\[1.5cm]

% Author
\noindent
\begin{minipage}{0.4\textwidth}
\begin{center} \large
\emph{by}\\
David P. Hyland-Wood
\end{center}
\end{minipage}%

\vfill

% Bottom of the page
{\large \today}

\end{center}
\end{titlepage}

% General definitions for all Chapters
%-------------------------------------------------------------------------------
% Define Page style for all chapters
\pagestyle{fancy}
% Delete the current section for header and footer
\fancyhf{}
% Set custom header
\lhead[]{\thepage}
\rhead[\thepage]{}
% Set arabic (1,2,3...) page numbering
\pagenumbering{arabic}
% Set double spacing for the text
\doublespacing

% Frontmatter
%-------------------------------------------------------------------------------
\frontmatter
% Frontmatter "chapters" have no chapter numbers, so use '\chapter*'.

\include{front-back-matter/dedication}
\include{front-back-matter/acknowledgements}
\include{front-back-matter/preface}
\include{front-back-matter/note-to-the-reader}

% Table of Contents
%-------------------------------------------------------------------------------
\newpage
% Use dots between chapter name and page number
\renewcommand{\cftchapdotsep}{\cftdotsep}
% Include the ToC
\tableofcontents

% If the chapter ends in an odd page, you may want to skip having the page
%  number in the empty page
\newpage
\thispagestyle{empty}

% Mainmatter
%-------------------------------------------------------------------------------
\mainmatter
% Mainmatter chapters have chapter numbers, so use '\chapter'.

% Chapter 1
\include{Albatenius/Albatenius}
% Chapter 2
\include{Aapo/Aapo}
% Chapter 3
\include{Underway/Underway}
% Chapter 4
\include{SteppingStone/SteppingStone}
% Chapter 5
\include{FirstRock/FirstRock}
% Chapter 6
\include{Eliza/Eliza}
% Chapter 7
\include{Perturbation/Perturbation}
% Chapter 8
\include{Arrival/Arrival}
% Chapter 9
\include{Horseshoe/Horseshoe}
% Chapter 10
\include{Tute/Tute}
% Chapter 11
\include{SecondRock/SecondRock}

% Backmatter
%-------------------------------------------------------------------------------

% Backmatter "chapters" have no chapter numbers, so use '\chapter*'.

\include{front-back-matter/abouttheauthor}% Added to TOC in the chapter file

\clearpage
\addcontentsline{toc}{chapter}{Index} % Add to TOC
\printindex
%-------------------------------------------------------------------------------

\end{document}

